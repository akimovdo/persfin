/// <reference path="../pb_data/types.d.ts" />
migrate((app) => {
  const snapshot = [
    {
      "authAlert": {
        "emailTemplate": {
          "body": "<p>Hello,</p>\n<p>We noticed a login to your {APP_NAME} account from a new location.</p>\n<p>If this was you, you may disregard this email.</p>\n<p><strong>If this wasn't you, you should immediately change your {APP_NAME} account password to revoke access from all other locations.</strong></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
          "subject": "Login from a new location"
        },
        "enabled": true
      },
      "authRule": "",
      "authToken": {
        "duration": 1209600
      },
      "confirmEmailChangeTemplate": {
        "body": "<p>Hello,</p>\n<p>Click on the button below to confirm your new email address.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-email-change/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Confirm new email</a>\n</p>\n<p><i>If you didn't ask to change your email address, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
        "subject": "Confirm your {APP_NAME} new email address"
      },
      "createRule": "",
      "deleteRule": "id = @request.auth.id",
      "emailChangeToken": {
        "duration": 1800
      },
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cost": 10,
          "hidden": true,
          "id": "password901924565",
          "max": 0,
          "min": 8,
          "name": "password",
          "pattern": "",
          "presentable": false,
          "required": true,
          "system": true,
          "type": "password"
        },
        {
          "autogeneratePattern": "[a-zA-Z0-9_]{50}",
          "hidden": true,
          "id": "text2504183744",
          "max": 60,
          "min": 30,
          "name": "tokenKey",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "exceptDomains": null,
          "hidden": false,
          "id": "email3885137012",
          "name": "email",
          "onlyDomains": null,
          "presentable": false,
          "required": false,
          "system": true,
          "type": "email"
        },
        {
          "hidden": false,
          "id": "bool1547992806",
          "name": "emailVisibility",
          "presentable": false,
          "required": false,
          "system": true,
          "type": "bool"
        },
        {
          "hidden": false,
          "id": "bool256245529",
          "name": "verified",
          "presentable": false,
          "required": false,
          "system": true,
          "type": "bool"
        },
        {
          "autogeneratePattern": "users[0-9]{6}",
          "hidden": false,
          "id": "text4166911607",
          "max": 150,
          "min": 3,
          "name": "username",
          "pattern": "^[\\w][\\w\\.\\-]*$",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "users_name",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "users_avatar",
          "maxSelect": 1,
          "maxSize": 5242880,
          "mimeTypes": [
            "image/jpeg",
            "image/png",
            "image/svg+xml",
            "image/gif",
            "image/webp"
          ],
          "name": "avatar",
          "presentable": false,
          "protected": false,
          "required": false,
          "system": false,
          "thumbs": null,
          "type": "file"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "fileToken": {
        "duration": 120
      },
      "id": "_pb_users_auth_",
      "indexes": [
        "CREATE UNIQUE INDEX `__pb_users_auth__username_idx` ON `users` (username COLLATE NOCASE)",
        "CREATE UNIQUE INDEX `__pb_users_auth__email_idx` ON `users` (`email`) WHERE `email` != ''",
        "CREATE UNIQUE INDEX `__pb_users_auth__tokenKey_idx` ON `users` (`tokenKey`)"
      ],
      "listRule": "id = @request.auth.id",
      "manageRule": null,
      "mfa": {
        "duration": 1800,
        "enabled": false,
        "rule": ""
      },
      "name": "users",
      "oauth2": {
        "enabled": false,
        "mappedFields": {
          "avatarURL": "",
          "id": "",
          "name": "",
          "username": "username"
        }
      },
      "otp": {
        "duration": 180,
        "emailTemplate": {
          "body": "<p>Hello,</p>\n<p>Your one-time password is: <strong>{OTP}</strong></p>\n<p><i>If you didn't ask for the one-time password, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
          "subject": "OTP for {APP_NAME}"
        },
        "enabled": false,
        "length": 8
      },
      "passwordAuth": {
        "enabled": true,
        "identityFields": [
          "email",
          "username"
        ]
      },
      "passwordResetToken": {
        "duration": 1800
      },
      "resetPasswordTemplate": {
        "body": "<p>Hello,</p>\n<p>Click on the button below to reset your password.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-password-reset/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Reset password</a>\n</p>\n<p><i>If you didn't ask to reset your password, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
        "subject": "Reset your {APP_NAME} password"
      },
      "system": false,
      "type": "auth",
      "updateRule": "id = @request.auth.id",
      "verificationTemplate": {
        "body": "<p>Hello,</p>\n<p>Thank you for joining us at {APP_NAME}.</p>\n<p>Click on the button below to verify your email address.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-verification/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Verify</a>\n</p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
        "subject": "Verify your {APP_NAME} email"
      },
      "verificationToken": {
        "duration": 604800
      },
      "viewRule": "id = @request.auth.id"
    },
    {
      "createRule": "",
      "deleteRule": "",
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "epkbuogn",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "relation1124285601",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "hidden": false,
          "id": "iwbcsal7",
          "max": null,
          "min": null,
          "name": "sum",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "gn1y5rwa",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "pgyefwqr",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "meq0d7f2",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "ormnmuri",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "6lqgnfic",
          "maxSelect": 99,
          "maxSize": 5242880,
          "mimeTypes": [],
          "name": "files",
          "presentable": false,
          "protected": false,
          "required": false,
          "system": false,
          "thumbs": [],
          "type": "file"
        },
        {
          "hidden": false,
          "id": "dbvrlktn",
          "name": "Forced_closure",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "bool"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "q2xujhghickdktv",
      "indexes": [],
      "listRule": "",
      "name": "accruals",
      "system": false,
      "type": "base",
      "updateRule": "",
      "viewRule": ""
    },
    {
      "createRule": "",
      "deleteRule": "",
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text110297516",
          "max": 0,
          "min": 0,
          "name": "creditDebitIndicator",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1103846297",
          "max": 0,
          "min": 0,
          "name": "payer",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "q2xujhghickdktv",
          "hidden": false,
          "id": "jbjtp7of",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "accural",
          "presentable": true,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "hidden": false,
          "id": "hb8jk3wz",
          "max": null,
          "min": null,
          "name": "sum",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "r7u5riyf",
          "max": "",
          "min": "",
          "name": "date",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "date"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "editor1843675174",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "za9kokhe",
          "maxSelect": 99,
          "maxSize": 5242880,
          "mimeTypes": [],
          "name": "receipt",
          "presentable": false,
          "protected": false,
          "required": false,
          "system": false,
          "thumbs": [],
          "type": "file"
        },
        {
          "hidden": false,
          "id": "json1843675174",
          "maxSize": 0,
          "name": "raw",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text4018619443",
          "max": 0,
          "min": 0,
          "name": "last_sync_date",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3270783252",
          "max": 0,
          "min": 0,
          "name": "transactionId",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "bool227071714",
          "name": "ignore",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "bool"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_2063686102",
          "hidden": false,
          "id": "relation26635114",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "wait_income",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "fzbeoyse5d2vrlx",
      "indexes": [],
      "listRule": "",
      "name": "payments",
      "system": false,
      "type": "base",
      "updateRule": "",
      "viewRule": ""
    },
    {
      "createRule": "",
      "deleteRule": "",
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "e5xtbdsv",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "1szejta0lfkygfb",
      "indexes": [],
      "listRule": "",
      "name": "partners",
      "system": false,
      "type": "base",
      "updateRule": "",
      "viewRule": ""
    },
    {
      "authAlert": {
        "emailTemplate": {
          "body": "<p>Hello,</p>\n<p>We noticed a login to your {APP_NAME} account from a new location.</p>\n<p>If this was you, you may disregard this email.</p>\n<p><strong>If this wasn't you, you should immediately change your {APP_NAME} account password to revoke access from all other locations.</strong></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
          "subject": "Login from a new location"
        },
        "enabled": true
      },
      "authRule": "",
      "authToken": {
        "duration": 1209600
      },
      "confirmEmailChangeTemplate": {
        "body": "<p>Hello,</p>\n<p>Click on the button below to confirm your new email address.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-email-change/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Confirm new email</a>\n</p>\n<p><i>If you didn't ask to change your email address, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
        "subject": "Confirm your {APP_NAME} new email address"
      },
      "createRule": null,
      "deleteRule": null,
      "emailChangeToken": {
        "duration": 1800
      },
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cost": 0,
          "hidden": true,
          "id": "password901924565",
          "max": 0,
          "min": 8,
          "name": "password",
          "pattern": "",
          "presentable": false,
          "required": true,
          "system": true,
          "type": "password"
        },
        {
          "autogeneratePattern": "[a-zA-Z0-9]{50}",
          "hidden": true,
          "id": "text2504183744",
          "max": 60,
          "min": 30,
          "name": "tokenKey",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "exceptDomains": null,
          "hidden": false,
          "id": "email3885137012",
          "name": "email",
          "onlyDomains": null,
          "presentable": false,
          "required": true,
          "system": true,
          "type": "email"
        },
        {
          "hidden": false,
          "id": "bool1547992806",
          "name": "emailVisibility",
          "presentable": false,
          "required": false,
          "system": true,
          "type": "bool"
        },
        {
          "hidden": false,
          "id": "bool256245529",
          "name": "verified",
          "presentable": false,
          "required": false,
          "system": true,
          "type": "bool"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": true,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": true,
          "type": "autodate"
        }
      ],
      "fileToken": {
        "duration": 120
      },
      "id": "pbc_3142635823",
      "indexes": [
        "CREATE UNIQUE INDEX `idx_tokenKey_pbc_3142635823` ON `_superusers` (`tokenKey`)",
        "CREATE UNIQUE INDEX `idx_email_pbc_3142635823` ON `_superusers` (`email`) WHERE `email` != ''"
      ],
      "listRule": null,
      "manageRule": null,
      "mfa": {
        "duration": 1800,
        "enabled": false,
        "rule": ""
      },
      "name": "_superusers",
      "oauth2": {
        "enabled": false,
        "mappedFields": {
          "avatarURL": "",
          "id": "",
          "name": "",
          "username": ""
        }
      },
      "otp": {
        "duration": 180,
        "emailTemplate": {
          "body": "<p>Hello,</p>\n<p>Your one-time password is: <strong>{OTP}</strong></p>\n<p><i>If you didn't ask for the one-time password, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
          "subject": "OTP for {APP_NAME}"
        },
        "enabled": false,
        "length": 8
      },
      "passwordAuth": {
        "enabled": true,
        "identityFields": [
          "email"
        ]
      },
      "passwordResetToken": {
        "duration": 1800
      },
      "resetPasswordTemplate": {
        "body": "<p>Hello,</p>\n<p>Click on the button below to reset your password.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-password-reset/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Reset password</a>\n</p>\n<p><i>If you didn't ask to reset your password, you can ignore this email.</i></p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
        "subject": "Reset your {APP_NAME} password"
      },
      "system": true,
      "type": "auth",
      "updateRule": null,
      "verificationTemplate": {
        "body": "<p>Hello,</p>\n<p>Thank you for joining us at {APP_NAME}.</p>\n<p>Click on the button below to verify your email address.</p>\n<p>\n  <a class=\"btn\" href=\"{APP_URL}/_/#/auth/confirm-verification/{TOKEN}\" target=\"_blank\" rel=\"noopener\">Verify</a>\n</p>\n<p>\n  Thanks,<br/>\n  {APP_NAME} team\n</p>",
        "subject": "Verify your {APP_NAME} email"
      },
      "verificationToken": {
        "duration": 259200
      },
      "viewRule": null
    },
    {
      "createRule": null,
      "deleteRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId",
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text455797646",
          "max": 0,
          "min": 0,
          "name": "collectionRef",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text127846527",
          "max": 0,
          "min": 0,
          "name": "recordRef",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text2462348188",
          "max": 0,
          "min": 0,
          "name": "provider",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1044722854",
          "max": 0,
          "min": 0,
          "name": "providerId",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": true,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": true,
          "type": "autodate"
        }
      ],
      "id": "pbc_2281828961",
      "indexes": [
        "CREATE UNIQUE INDEX `idx_externalAuths_record_provider` ON `_externalAuths` (collectionRef, recordRef, provider)",
        "CREATE UNIQUE INDEX `idx_externalAuths_collection_provider` ON `_externalAuths` (collectionRef, provider, providerId)"
      ],
      "listRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId",
      "name": "_externalAuths",
      "system": true,
      "type": "base",
      "updateRule": null,
      "viewRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId"
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text455797646",
          "max": 0,
          "min": 0,
          "name": "collectionRef",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text127846527",
          "max": 0,
          "min": 0,
          "name": "recordRef",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1582905952",
          "max": 0,
          "min": 0,
          "name": "method",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": true,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": true,
          "type": "autodate"
        }
      ],
      "id": "pbc_2279338944",
      "indexes": [
        "CREATE INDEX `idx_mfas_collectionRef_recordRef` ON `_mfas` (collectionRef,recordRef)"
      ],
      "listRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId",
      "name": "_mfas",
      "system": true,
      "type": "base",
      "updateRule": null,
      "viewRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId"
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text455797646",
          "max": 0,
          "min": 0,
          "name": "collectionRef",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text127846527",
          "max": 0,
          "min": 0,
          "name": "recordRef",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cost": 8,
          "hidden": true,
          "id": "password901924565",
          "max": 0,
          "min": 0,
          "name": "password",
          "pattern": "",
          "presentable": false,
          "required": true,
          "system": true,
          "type": "password"
        },
        {
          "autogeneratePattern": "",
          "hidden": true,
          "id": "text3866985172",
          "max": 0,
          "min": 0,
          "name": "sentTo",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": true,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": true,
          "type": "autodate"
        }
      ],
      "id": "pbc_1638494021",
      "indexes": [
        "CREATE INDEX `idx_otps_collectionRef_recordRef` ON `_otps` (collectionRef, recordRef)"
      ],
      "listRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId",
      "name": "_otps",
      "system": true,
      "type": "base",
      "updateRule": null,
      "viewRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId"
    },
    {
      "createRule": null,
      "deleteRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId",
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text455797646",
          "max": 0,
          "min": 0,
          "name": "collectionRef",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text127846527",
          "max": 0,
          "min": 0,
          "name": "recordRef",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text4228609354",
          "max": 0,
          "min": 0,
          "name": "fingerprint",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": true,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": true,
          "type": "autodate"
        }
      ],
      "id": "pbc_4275539003",
      "indexes": [
        "CREATE UNIQUE INDEX `idx_authOrigins_unique_pairs` ON `_authOrigins` (collectionRef, recordRef, fingerprint)"
      ],
      "listRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId",
      "name": "_authOrigins",
      "system": true,
      "type": "base",
      "updateRule": null,
      "viewRule": "@request.auth.id != '' && recordRef = @request.auth.id && collectionRef = @request.auth.collectionId"
    },
    {
      "createRule": "",
      "deleteRule": "",
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1579384326",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_1143762905",
      "indexes": [],
      "listRule": "",
      "name": "cost_items",
      "system": false,
      "type": "base",
      "updateRule": "",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_94Zn",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "hidden": false,
          "id": "json766401981",
          "maxSize": 1,
          "name": "cost_item_name",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_2998554432",
      "indexes": [],
      "listRule": "",
      "name": "cost_items_balance",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  COALESCE(a.cost_item, 'no_cost_item') as id,\n  a.cost_item as cost_item_id,\n  COALESCE(ci.name, 'Без статьи') as cost_item_name,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as balance,\n  COUNT(DISTINCT a.id) as accruals_count,\n  COUNT(DISTINCT a.partner) as partners_count\nFROM accruals a\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\nGROUP BY a.cost_item, ci.name\nHAVING (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_Fyif",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_LqVB",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_pS7T",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_HE3A",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_667978888",
      "indexes": [],
      "listRule": "",
      "name": "cost_items_partners_balance",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  (COALESCE(a.cost_item, 'no_cost_item') || '_' || a.partner) as id,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as balance,\n  COUNT(DISTINCT a.id) as accruals_count\nFROM accruals a\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\nGROUP BY a.cost_item, ci.name, a.partner, p.name\nHAVING (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_2k1X",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_YXjV",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2729086618",
          "max": null,
          "min": null,
          "name": "cost_items_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_2247033813",
      "indexes": [],
      "listRule": "",
      "name": "partners_balance",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.partner as id,\n  a.partner as partner_id,\n  p.name as partner_name,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as balance,\n  COUNT(DISTINCT a.id) as accruals_count,\n  COUNT(DISTINCT a.cost_item) as cost_items_count\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\nGROUP BY a.partner, p.name\nHAVING (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY balance DESC",
      "viewRule": ""
    },
    {
      "createRule": "",
      "deleteRule": "",
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1579384326",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "editor1843675174",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_96517046",
      "indexes": [],
      "listRule": "",
      "name": "wiki",
      "system": false,
      "type": "base",
      "updateRule": "",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_wQ2h",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_XkH3",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_uooR",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_Lbio",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_sPKE",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_kTBu",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_zeHw",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_aZVS",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number3138151242",
          "max": null,
          "min": null,
          "name": "days_difference",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_x6Qh",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "_clone_Iix6",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "_clone_S8w4",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_1445307046",
      "indexes": [],
      "listRule": "",
      "name": "accruals_with_balance",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.repayment_date,\n  CAST((JULIANDAY(a.repayment_date) - JULIANDAY(DATE('now'))) AS INTEGER) as days_difference,\n  COUNT(pay.id) as payments_count,\n  a.description,\n  a.created,\n  a.updated\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description, a.created, a.updated\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY a.repayment_date ASC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_84n5",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_TkLu",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_hxrl",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_tTOe",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_cxlc",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_7fvd",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_K4qH",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_abGs",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number2659209642",
          "max": null,
          "min": null,
          "name": "days_overdue",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_Ki48",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "_clone_r7gZ",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_3959254341",
      "indexes": [],
      "listRule": "",
      "name": "accruals_overdue",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.repayment_date,\n  CAST((JULIANDAY(DATE('now')) - JULIANDAY(a.repayment_date)) AS INTEGER) as days_overdue,\n  COUNT(pay.id) as payments_count,\n  a.description,\n  a.created\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date < DATE('now')\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description, a.created\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY days_overdue DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_1VeL",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "hidden": false,
          "id": "json766401981",
          "maxSize": 1,
          "name": "cost_item_name",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2801648107",
          "maxSize": 1,
          "name": "payment_percentage",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json488188065",
          "maxSize": 1,
          "name": "earliest_repayment",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2317905741",
          "maxSize": 1,
          "name": "latest_repayment",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        }
      ],
      "id": "pbc_114059749",
      "indexes": [],
      "listRule": "",
      "name": "cost_items_statistics",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  COALESCE(a.cost_item, 'no_cost_item') as id,\n  a.cost_item as cost_item_id,\n  COALESCE(ci.name, 'Без статьи') as cost_item_name,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as balance,\n  ROUND((COALESCE(SUM(pay.sum), 0) * 100.0) / NULLIF(SUM(a.sum), 0), 2) as payment_percentage,\n  COUNT(DISTINCT a.id) as accruals_count,\n  COUNT(DISTINCT a.partner) as partners_count,\n  COUNT(pay.id) as payments_count,\n  MIN(a.repayment_date) as earliest_repayment,\n  MAX(a.repayment_date) as latest_repayment\nFROM accruals a\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\nGROUP BY a.cost_item, ci.name\nHAVING (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_MwD6",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "hidden": false,
          "id": "json766401981",
          "maxSize": 1,
          "name": "cost_item_name",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number3789589204",
          "max": null,
          "min": null,
          "name": "overdue_accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2106263925",
          "max": null,
          "min": null,
          "name": "avg_days_overdue",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number904708722",
          "max": null,
          "min": null,
          "name": "max_days_overdue",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_2467149474",
      "indexes": [],
      "listRule": "",
      "name": "cost_items_overdue",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  COALESCE(a.cost_item, 'no_cost_item') as id,\n  a.cost_item as cost_item_id,\n  COALESCE(ci.name, 'Без статьи') as cost_item_name,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as balance,\n  COUNT(DISTINCT a.id) as overdue_accruals_count,\n  COUNT(DISTINCT a.partner) as partners_count,\n  CAST(AVG(JULIANDAY(DATE('now')) - JULIANDAY(a.repayment_date)) AS INTEGER) as avg_days_overdue,\n  CAST(MAX(JULIANDAY(DATE('now')) - JULIANDAY(a.repayment_date)) AS INTEGER) as max_days_overdue\nFROM accruals a\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date < DATE('now')\nGROUP BY a.cost_item, ci.name\nHAVING (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_tAEc",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_KENo",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_cp80",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_Kjt1",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_kxGv",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_WBqz",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_Je9l",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_AIrQ",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number4007784154",
          "max": null,
          "min": null,
          "name": "days_left",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_XVwe",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        }
      ],
      "id": "pbc_1439877725",
      "indexes": [],
      "listRule": "",
      "name": "accruals_upcoming_week",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.repayment_date,\n  CAST((JULIANDAY(a.repayment_date) - JULIANDAY(DATE('now'))) AS INTEGER) as days_left,\n  a.description\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date BETWEEN DATE('now') AND DATE('now', '+7 days')\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY a.repayment_date ASC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "number1694506570",
          "max": null,
          "min": null,
          "name": "total_accruals",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json552907184",
          "maxSize": 1,
          "name": "total_accrued_sum",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3180843949",
          "maxSize": 1,
          "name": "total_paid_sum",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1491648140",
          "maxSize": 1,
          "name": "total_balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number1360289237",
          "max": null,
          "min": null,
          "name": "total_partners",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number1324626532",
          "max": null,
          "min": null,
          "name": "total_cost_items",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number3677198211",
          "max": null,
          "min": null,
          "name": "total_payments",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_2200922936",
      "indexes": [],
      "listRule": "",
      "name": "dashboard_summary",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  'dashboard_summary' as id,\n  COUNT(DISTINCT a.id) as total_accruals,\n  SUM(a.sum) as total_accrued_sum,\n  COALESCE(SUM(pay.sum), 0) as total_paid_sum,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as total_balance,\n  COUNT(DISTINCT a.partner) as total_partners,\n  COUNT(DISTINCT a.cost_item) as total_cost_items,\n  COUNT(pay.id) as total_payments\nFROM accruals a\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_Mb2t",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_qO5f",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "json3657377460",
          "maxSize": 1,
          "name": "payment_month",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2583815235",
          "maxSize": 1,
          "name": "payment_year",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_4282115598",
      "indexes": [],
      "listRule": "",
      "name": "payments_by_month",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  (COALESCE(a.cost_item, 'no_cost_item') || '_' || strftime('%Y-%m', pay.date)) as id,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  strftime('%Y-%m', pay.date) as payment_month,\n  strftime('%Y', pay.date) as payment_year,\n  COUNT(DISTINCT pay.id) as payments_count,\n  SUM(pay.sum) as total_paid,\n  COUNT(DISTINCT a.id) as accruals_count,\n  COUNT(DISTINCT a.partner) as partners_count\nFROM payments pay\nLEFT JOIN accruals a ON pay.accural = a.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nWHERE pay.date IS NOT NULL\n  AND (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\nGROUP BY a.cost_item, ci.name, strftime('%Y-%m', pay.date)\nORDER BY payment_month DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_UViz",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_ioJa",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2729086618",
          "max": null,
          "min": null,
          "name": "cost_items_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json488188065",
          "maxSize": 1,
          "name": "earliest_repayment",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1807327165",
          "maxSize": 1,
          "name": "last_accrual_date",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        }
      ],
      "id": "pbc_1197448724",
      "indexes": [],
      "listRule": "",
      "name": "partners_top_debtors",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.partner as id,\n  a.partner as partner_id,\n  p.name as partner_name,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as balance,\n  COUNT(DISTINCT a.id) as accruals_count,\n  COUNT(DISTINCT a.cost_item) as cost_items_count,\n  MIN(a.repayment_date) as earliest_repayment,\n  MAX(a.created) as last_accrual_date\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\nGROUP BY a.partner, p.name\nHAVING (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_awZU",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_n9E3",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_qdlA",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_AcOm",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_JV0M",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_mAyS",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_8aVI",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_Bkh2",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_7Xu3",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "_clone_4ATO",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_3202511858",
      "indexes": [],
      "listRule": "",
      "name": "accruals_today",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.repayment_date,\n  COUNT(pay.id) as payments_count,\n  a.description,\n  a.created\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date = DATE('now')\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description, a.created\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_iZyc",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_ubNs",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_RLzW",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_FqFt",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_a4MS",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_Lv4i",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_UV60",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3165886577",
          "maxSize": 1,
          "name": "remaining_balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_mYd8",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_THk8",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "_clone_L5s4",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "_clone_Q28r",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_431467789",
      "indexes": [],
      "listRule": "",
      "name": "accruals_forced_closed",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as remaining_balance,\n  a.repayment_date,\n  COUNT(pay.id) as payments_count,\n  a.description,\n  a.created,\n  a.updated\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE a.Forced_closure = TRUE\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description, a.created, a.updated\nORDER BY a.updated DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_TPrZ",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_hjKZ",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_c6xo",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_grv8",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_5A5I",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_M7fK",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_gvMd",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_tbO2",
          "name": "is_forced_closed",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "bool"
        },
        {
          "hidden": false,
          "id": "_clone_UW5M",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number3138151242",
          "max": null,
          "min": null,
          "name": "days_difference",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_Mney",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "_clone_Zu77",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "_clone_jpIB",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_3987185601",
      "indexes": [],
      "listRule": "",
      "name": "accruals_all_with_status",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.Forced_closure as is_forced_closed,\n  a.repayment_date,\n  CAST((JULIANDAY(a.repayment_date) - JULIANDAY(DATE('now'))) AS INTEGER) as days_difference,\n  COUNT(pay.id) as payments_count,\n  a.description,\n  a.created,\n  a.updated\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.Forced_closure, a.repayment_date, a.description, a.created, a.updated\nORDER BY a.Forced_closure ASC, a.repayment_date ASC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_8f7N",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_xEKx",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_ewYb",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_Lvr2",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_gcmy",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_RVpK",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_0Mzk",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_fqVY",
          "max": "",
          "min": "",
          "name": "original_repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number2422552606",
          "max": null,
          "min": null,
          "name": "original_day",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json4197986836",
          "maxSize": 1,
          "name": "is_overdue_from_past",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2608816340",
          "maxSize": 1,
          "name": "is_overdue",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number3138151242",
          "max": null,
          "min": null,
          "name": "days_difference",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_wdds",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "_clone_VwR6",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_863561658",
      "indexes": [],
      "listRule": "",
      "name": "accruals_current_month_by_day",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.repayment_date as original_repayment_date,\n  CAST(strftime('%d', a.repayment_date) AS INTEGER) as original_day,\n  (a.repayment_date < DATE('now', 'start of month')) as is_overdue_from_past,\n  (a.repayment_date < DATE('now')) as is_overdue,\n  CAST((JULIANDAY(a.repayment_date) - JULIANDAY(DATE('now'))) AS INTEGER) as days_difference,\n  COUNT(pay.id) as payments_count,\n  a.description,\n  a.created\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND (\n    (a.repayment_date >= DATE('now', 'start of month') AND a.repayment_date < DATE('now', 'start of month', '+1 month'))\n    OR a.repayment_date < DATE('now', 'start of month')\n  )\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description, a.created\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY a.repayment_date ASC, balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_SbJJ",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_j5Qi",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_wlMe",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_SdYV",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_CXXF",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_siWG",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_KHJx",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_Ymuw",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number848129764",
          "max": null,
          "min": null,
          "name": "day_of_month",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json715679490",
          "maxSize": 1,
          "name": "current_month",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1849702960",
          "maxSize": 1,
          "name": "is_from_past_months",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_y8DC",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        }
      ],
      "id": "pbc_1532491104",
      "indexes": [],
      "listRule": "",
      "name": "accruals_month_calendar",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.repayment_date,\n  CAST(strftime('%d', a.repayment_date) AS INTEGER) as day_of_month,\n  strftime('%Y-%m', DATE('now', 'start of month')) as current_month,\n  (a.repayment_date < DATE('now', 'start of month')) as is_from_past_months,\n  COUNT(pay.id) as payments_count,\n  a.description\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND (\n    (a.repayment_date >= DATE('now', 'start of month') AND a.repayment_date < DATE('now', 'start of month', '+1 month'))\n    OR a.repayment_date < DATE('now', 'start of month')\n  )\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY a.repayment_date ASC, balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_pt6O",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_oStI",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_TrTy",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_IsuI",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_L6PJ",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_Ap5U",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_f9cO",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_omdY",
          "max": "",
          "min": "",
          "name": "original_repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "json2562917923",
          "maxSize": 1,
          "name": "first_day_current_month",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number2659209642",
          "max": null,
          "min": null,
          "name": "days_overdue",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_vdsR",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "_clone_utcU",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_1035770529",
      "indexes": [],
      "listRule": "",
      "name": "accruals_first_day_month",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.repayment_date as original_repayment_date,\n  DATE('now', 'start of month') as first_day_current_month,\n  CAST((JULIANDAY(DATE('now', 'start of month')) - JULIANDAY(a.repayment_date)) AS INTEGER) as days_overdue,\n  COUNT(pay.id) as payments_count,\n  a.description,\n  a.created\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date < DATE('now', 'start of month')\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description, a.created\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY days_overdue DESC, balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "json715679490",
          "maxSize": 1,
          "name": "current_month",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1883957824",
          "maxSize": 1,
          "name": "month_start",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3427103230",
          "maxSize": 1,
          "name": "month_end",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number1694506570",
          "max": null,
          "min": null,
          "name": "total_accruals",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json552907184",
          "maxSize": 1,
          "name": "total_accrued_sum",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3180843949",
          "maxSize": 1,
          "name": "total_paid_sum",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1491648140",
          "maxSize": 1,
          "name": "total_balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2729086618",
          "max": null,
          "min": null,
          "name": "cost_items_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number3677198211",
          "max": null,
          "min": null,
          "name": "total_payments",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_1291117150",
      "indexes": [],
      "listRule": "",
      "name": "accruals_current_month_stats",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  'current_month_stats' as id,\n  strftime('%Y-%m', DATE('now')) as current_month,\n  DATE('now', 'start of month') as month_start,\n  DATE('now', 'start of month', '+1 month', '-1 day') as month_end,\n  COUNT(DISTINCT a.id) as total_accruals,\n  SUM(a.sum) as total_accrued_sum,\n  COALESCE(SUM(pay.sum), 0) as total_paid_sum,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as total_balance,\n  COUNT(DISTINCT a.partner) as partners_count,\n  COUNT(DISTINCT a.cost_item) as cost_items_count,\n  COUNT(pay.id) as total_payments\nFROM accruals a\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND (\n    (a.repayment_date >= DATE('now', 'start of month') AND a.repayment_date < DATE('now', 'start of month', '+1 month'))\n    OR a.repayment_date < DATE('now', 'start of month')\n  )\nGROUP BY a.id, a.sum, a.repayment_date\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_w8gW",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_qQvp",
          "max": 0,
          "min": 0,
          "name": "accrual_name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "_clone_nUc4",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner_id",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_BtVB",
          "max": 0,
          "min": 0,
          "name": "partner_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "_clone_oXpB",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_LVia",
          "max": 0,
          "min": 0,
          "name": "cost_item_name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_kLAT",
          "max": null,
          "min": null,
          "name": "total_accrued",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "_clone_SSby",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number848129764",
          "max": null,
          "min": null,
          "name": "day_of_month",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number3627845836",
          "max": null,
          "min": null,
          "name": "days_until_payment",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "_clone_UZxB",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "_clone_oiap",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_1392098309",
      "indexes": [],
      "listRule": "",
      "name": "accruals_current_month_only",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.id,\n  a.number,\n  a.name as accrual_name,\n  a.partner as partner_id,\n  p.name as partner_name,\n  a.cost_item as cost_item_id,\n  ci.name as cost_item_name,\n  a.sum as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (a.sum - COALESCE(SUM(pay.sum), 0)) as balance,\n  a.repayment_date,\n  CAST(strftime('%d', a.repayment_date) AS INTEGER) as day_of_month,\n  CAST((JULIANDAY(a.repayment_date) - JULIANDAY(DATE('now'))) AS INTEGER) as days_until_payment,\n  COUNT(pay.id) as payments_count,\n  a.description,\n  a.created\nFROM accruals a\nLEFT JOIN partners p ON a.partner = p.id\nLEFT JOIN cost_items ci ON a.cost_item = ci.id\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date >= DATE('now', 'start of month') \n  AND a.repayment_date < DATE('now', 'start of month', '+1 month')\nGROUP BY a.id, a.number, a.name, a.partner, p.name, a.cost_item, ci.name, a.sum, a.repayment_date, a.description, a.created\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0\nORDER BY a.repayment_date ASC, balance DESC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_Znr2",
          "max": "",
          "min": "",
          "name": "payment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number848129764",
          "max": null,
          "min": null,
          "name": "day_of_month",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1491648140",
          "maxSize": 1,
          "name": "total_balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2729086618",
          "max": null,
          "min": null,
          "name": "cost_items_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_968010683",
      "indexes": [],
      "listRule": "",
      "name": "accruals_current_month_grouped",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.repayment_date as id,\n  a.repayment_date as payment_date,\n  CAST(strftime('%d', a.repayment_date) AS INTEGER) as day_of_month,\n  COUNT(DISTINCT a.id) as accruals_count,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as total_balance,\n  COUNT(DISTINCT a.partner) as partners_count,\n  COUNT(DISTINCT a.cost_item) as cost_items_count\nFROM accruals a\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date >= DATE('now', 'start of month') \n  AND a.repayment_date < DATE('now', 'start of month', '+1 month')\nGROUP BY a.repayment_date\nORDER BY a.repayment_date ASC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_E9q0",
          "max": "",
          "min": "",
          "name": "payment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number848129764",
          "max": null,
          "min": null,
          "name": "day_of_month",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json111645041",
          "maxSize": 1,
          "name": "day_of_week",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1491648140",
          "maxSize": 1,
          "name": "total_balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2729086618",
          "max": null,
          "min": null,
          "name": "cost_items_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_257866170",
      "indexes": [],
      "listRule": "",
      "name": "accruals_month_all_days",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.repayment_date as id,\n  a.repayment_date as payment_date,\n  CAST(strftime('%d', a.repayment_date) AS INTEGER) as day_of_month,\n  strftime('%w', a.repayment_date) as day_of_week,\n  COUNT(DISTINCT a.id) as accruals_count,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as total_balance,\n  COUNT(DISTINCT a.partner) as partners_count,\n  COUNT(DISTINCT a.cost_item) as cost_items_count,\n  COUNT(pay.id) as payments_count\nFROM accruals a\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date >= DATE('now', 'start of month') \n  AND a.repayment_date < DATE('now', 'start of month', '+1 month')\nGROUP BY a.repayment_date\nORDER BY a.repayment_date ASC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "_clone_Vuv0",
          "max": "",
          "min": "",
          "name": "payment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number848129764",
          "max": null,
          "min": null,
          "name": "day_of_month",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json4197986836",
          "maxSize": 1,
          "name": "is_overdue_from_past",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1491648140",
          "maxSize": 1,
          "name": "total_balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2729086618",
          "max": null,
          "min": null,
          "name": "cost_items_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_933361838",
      "indexes": [],
      "listRule": "",
      "name": "accruals_with_overdue_grouped",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  a.repayment_date as id,\n  a.repayment_date as payment_date,\n  CAST(strftime('%d', a.repayment_date) AS INTEGER) as day_of_month,\n  (a.repayment_date < DATE('now', 'start of month')) as is_overdue_from_past,\n  COUNT(DISTINCT a.id) as accruals_count,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as total_balance,\n  COUNT(DISTINCT a.partner) as partners_count,\n  COUNT(DISTINCT a.cost_item) as cost_items_count\nFROM accruals a\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND (\n    (a.repayment_date >= DATE('now', 'start of month') AND a.repayment_date < DATE('now', 'start of month', '+1 month'))\n    OR a.repayment_date < DATE('now', 'start of month')\n  )\nGROUP BY a.repayment_date\nORDER BY a.repayment_date ASC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "json569694779",
          "maxSize": 1,
          "name": "display_date",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json848129764",
          "maxSize": 1,
          "name": "day_of_month",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1491648140",
          "maxSize": 1,
          "name": "total_balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2729086618",
          "max": null,
          "min": null,
          "name": "cost_items_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json2951555642",
          "maxSize": 1,
          "name": "earliest_overdue_date",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3790854801",
          "maxSize": 1,
          "name": "latest_overdue_date",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number2106263925",
          "max": null,
          "min": null,
          "name": "avg_days_overdue",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_3346307771",
      "indexes": [],
      "listRule": "",
      "name": "accruals_overdue_summary",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  'overdue_from_past' as id,\n  DATE('now', 'start of month') as display_date,\n  1 as day_of_month,\n  COUNT(DISTINCT a.id) as accruals_count,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as total_balance,\n  COUNT(DISTINCT a.partner) as partners_count,\n  COUNT(DISTINCT a.cost_item) as cost_items_count,\n  MIN(a.repayment_date) as earliest_overdue_date,\n  MAX(a.repayment_date) as latest_overdue_date,\n  CAST(AVG(JULIANDAY(DATE('now')) - JULIANDAY(a.repayment_date)) AS INTEGER) as avg_days_overdue\nFROM accruals a\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date < DATE('now', 'start of month')\nGROUP BY a.id, a.sum\nHAVING (a.sum - COALESCE(SUM(pay.sum), 0)) > 0",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "json3807012359",
          "maxSize": 1,
          "name": "week_number",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1423088652",
          "maxSize": 1,
          "name": "week_start",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json3224439104",
          "maxSize": 1,
          "name": "week_end",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number894261734",
          "max": null,
          "min": null,
          "name": "accruals_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "json3575296315",
          "maxSize": 1,
          "name": "total_accrued",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2207660229",
          "maxSize": 1,
          "name": "total_paid",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json1491648140",
          "maxSize": 1,
          "name": "total_balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number976704109",
          "max": null,
          "min": null,
          "name": "partners_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number2729086618",
          "max": null,
          "min": null,
          "name": "cost_items_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        }
      ],
      "id": "pbc_597617630",
      "indexes": [],
      "listRule": "",
      "name": "accruals_by_week_current_month",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n  strftime('%Y-W%W', a.repayment_date) as id,\n  strftime('%W', a.repayment_date) as week_number,\n  MIN(a.repayment_date) as week_start,\n  MAX(a.repayment_date) as week_end,\n  COUNT(DISTINCT a.id) as accruals_count,\n  SUM(a.sum) as total_accrued,\n  COALESCE(SUM(pay.sum), 0) as total_paid,\n  (SUM(a.sum) - COALESCE(SUM(pay.sum), 0)) as total_balance,\n  COUNT(DISTINCT a.partner) as partners_count,\n  COUNT(DISTINCT a.cost_item) as cost_items_count\nFROM accruals a\nLEFT JOIN payments pay ON pay.accural = a.id\nWHERE (a.Forced_closure = FALSE OR a.Forced_closure IS NULL)\n  AND a.repayment_date >= DATE('now', 'start of month') \n  AND a.repayment_date < DATE('now', 'start of month', '+1 month')\nGROUP BY strftime('%Y-W%W', a.repayment_date)\nORDER BY week_start ASC",
      "viewRule": ""
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1579384326",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "number3367870285",
          "max": null,
          "min": null,
          "name": "sum",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "number1624514900",
          "max": 31,
          "min": 1,
          "name": "income_date",
          "onlyInt": false,
          "presentable": false,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_4021241261",
      "indexes": [],
      "listRule": null,
      "name": "planned_income",
      "system": false,
      "type": "base",
      "updateRule": null,
      "viewRule": null
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": true,
          "id": "text1234567890",
          "max": 0,
          "min": 0,
          "name": "jwt_token",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1234567891",
          "max": 0,
          "min": 0,
          "name": "client_id",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1234567892",
          "max": 0,
          "min": 0,
          "name": "account_id",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "bool1234567893",
          "name": "is_active",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "bool"
        },
        {
          "hidden": false,
          "id": "date1234567894",
          "max": "",
          "min": "",
          "name": "last_sync_date",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number1234567896",
          "max": null,
          "min": null,
          "name": "endDateBalance",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1234567895",
          "max": 0,
          "min": 0,
          "name": "description",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_1234567890",
      "indexes": [],
      "listRule": null,
      "name": "tochka_config",
      "system": false,
      "type": "base",
      "updateRule": null,
      "viewRule": null
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1579384326",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "number3367870285",
          "max": null,
          "min": null,
          "name": "sum",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "date1146156890",
          "max": "",
          "min": "",
          "name": "accural_month",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_2063686102",
      "indexes": [],
      "listRule": null,
      "name": "wait_incomes",
      "system": false,
      "type": "base",
      "updateRule": null,
      "viewRule": null
    },
    {
      "createRule": null,
      "deleteRule": null,
      "fields": [
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text3208210256",
          "max": 0,
          "min": 0,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_2063686102",
          "hidden": false,
          "id": "relation3160674266",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "wait_income_id",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "_clone_bQV2",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": false,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "json3367870285",
          "maxSize": 1,
          "name": "sum",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2006136182",
          "maxSize": 1,
          "name": "total_received",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "json2901680126",
          "maxSize": 1,
          "name": "balance",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "json"
        },
        {
          "hidden": false,
          "id": "number583295104",
          "max": null,
          "min": null,
          "name": "payments_count",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "_clone_f3fD",
          "max": "",
          "min": "",
          "name": "accrual_month",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "date"
        },
        {
          "hidden": false,
          "id": "number3138151242",
          "max": null,
          "min": null,
          "name": "days_difference",
          "onlyInt": false,
          "presentable": false,
          "required": false,
          "system": false,
          "type": "number"
        },
        {
          "hidden": false,
          "id": "_clone_cjWp",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "_clone_ivpM",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_wait_incomes_status",
      "indexes": [],
      "listRule": "",
      "name": "wait_incomes_with_status",
      "system": false,
      "type": "view",
      "updateRule": null,
      "viewQuery": "SELECT \n      w.id as id,\n      w.id as wait_income_id,\n      w.name as name,\n      (w.sum * 0.9) as sum,\n      COALESCE(SUM(p.sum * 0.9), 0) as total_received,\n      ((w.sum * 0.9) - COALESCE(SUM(p.sum * 0.9), 0)) as balance,\n      COUNT(p.id) as payments_count,\n      w.accural_month as accrual_month,\n      CAST((julianday(w.accural_month) - julianday(date('now'))) AS INTEGER) as days_difference,\n      w.created as created,\n      w.updated as updated\n    FROM wait_incomes w\n    LEFT JOIN payments p ON p.wait_income = w.id AND p.ignore = FALSE\n    GROUP BY w.id",
      "viewRule": ""
    },
    {
      "createRule": "",
      "deleteRule": "",
      "fields": [
        {
          "autogeneratePattern": "[a-z0-9]{15}",
          "hidden": false,
          "id": "text3208210256",
          "max": 15,
          "min": 15,
          "name": "id",
          "pattern": "^[a-z0-9]+$",
          "presentable": false,
          "primaryKey": true,
          "required": true,
          "system": true,
          "type": "text"
        },
        {
          "cascadeDelete": false,
          "collectionId": "1szejta0lfkygfb",
          "hidden": false,
          "id": "relation824917526",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "partner",
          "presentable": true,
          "required": true,
          "system": false,
          "type": "relation"
        },
        {
          "cascadeDelete": false,
          "collectionId": "pbc_1143762905",
          "hidden": false,
          "id": "relation1124285601",
          "maxSelect": 1,
          "minSelect": 0,
          "name": "cost_item",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "relation"
        },
        {
          "hidden": false,
          "id": "number3367870285",
          "max": null,
          "min": null,
          "name": "sum",
          "onlyInt": false,
          "presentable": true,
          "required": true,
          "system": false,
          "type": "number"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text1579384326",
          "max": 0,
          "min": 0,
          "name": "name",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": true,
          "system": false,
          "type": "text"
        },
        {
          "hidden": false,
          "id": "date967704835",
          "max": "",
          "min": "",
          "name": "repayment_date",
          "presentable": false,
          "required": true,
          "system": false,
          "type": "date"
        },
        {
          "autogeneratePattern": "",
          "hidden": false,
          "id": "text2526027604",
          "max": 0,
          "min": 0,
          "name": "number",
          "pattern": "",
          "presentable": true,
          "primaryKey": false,
          "required": false,
          "system": false,
          "type": "text"
        },
        {
          "convertURLs": false,
          "hidden": false,
          "id": "editor1843675174",
          "maxSize": 0,
          "name": "description",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "editor"
        },
        {
          "hidden": false,
          "id": "file104153177",
          "maxSelect": 99,
          "maxSize": 5242880,
          "mimeTypes": [],
          "name": "files",
          "presentable": false,
          "protected": false,
          "required": false,
          "system": false,
          "thumbs": [],
          "type": "file"
        },
        {
          "hidden": false,
          "id": "bool791185888",
          "name": "Forced_closure",
          "presentable": false,
          "required": false,
          "system": false,
          "type": "bool"
        },
        {
          "hidden": false,
          "id": "autodate2990389176",
          "name": "created",
          "onCreate": true,
          "onUpdate": false,
          "presentable": false,
          "system": false,
          "type": "autodate"
        },
        {
          "hidden": false,
          "id": "autodate3332085495",
          "name": "updated",
          "onCreate": true,
          "onUpdate": true,
          "presentable": false,
          "system": false,
          "type": "autodate"
        }
      ],
      "id": "pbc_984943212",
      "indexes": [],
      "listRule": "",
      "name": "monthly_payments",
      "system": false,
      "type": "base",
      "updateRule": "",
      "viewRule": ""
    }
  ];

  return app.importCollections(snapshot, false);
}, (app) => {
  return null;
})
